"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1215],{41215:function(e,n,t){t.r(n);var r=t(74165),s=t(15861),i=t(70885),a=t(72791),c=t(11087),l=t(82388),d=t(57689),o=t(91951),h=t(78983),x=t(80184);n.default=function(){var e=(0,d.s0)(),n=(0,a.useState)([]),t=(0,i.Z)(n,2),u=t[0],b=t[1],j=(0,a.useState)(""),m=(0,i.Z)(j,2),f=m[0],N=m[1];(0,a.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,t,s,i,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("http://localhost:7777/list");case 3:for(n=e.sent,t=n.data.data,s=[],i=0;i<t.length;i++)for(a=0;a<t[i].banner.length;a++)c={_id:t[i]._id,outlet_id:t[i].outlet_id,banner:t[i].banner[a]},s.push(c);b(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),N(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p=function(e){return(0,o.default)(new Date(e),"yyyy/MM/dd").toLocaleString()};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)("div",{className:"flex-right",children:(0,x.jsx)(c.rU,{to:"/pages/banner/Addbanner",children:(0,x.jsxs)("button",{className:"btn btn-primary btn-lg",children:[" ","Create"]})})}),(0,x.jsx)("div",{}),(0,x.jsx)("p",{className:"text-medium-emphasis text-center",children:f}),(0,x.jsx)(h.rb,{children:(0,x.jsx)(h.b7,{xs:!0,children:(0,x.jsx)(h.xH,{className:"mb-4",children:(0,x.jsx)(h.sl,{children:(0,x.jsxs)(h.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,x.jsx)(h.V,{color:"light",children:(0,x.jsxs)(h.T6,{className:"text-center",children:[(0,x.jsx)(h.is,{children:"Sr. No."}),(0,x.jsx)(h.is,{children:"Outlet Id"}),(0,x.jsx)(h.is,{className:"text-center",children:"Banner Title"}),(0,x.jsx)(h.is,{className:"image",children:"Image"}),(0,x.jsx)(h.is,{children:"Is Active"}),(0,x.jsx)(h.is,{children:"Is Fix"}),(0,x.jsx)(h.is,{children:"From Date"}),(0,x.jsx)(h.is,{children:"To Date"}),(0,x.jsx)(h.is,{children:"Action"})]})}),(0,x.jsx)(h.NR,{children:u?u.map((function(n,t){return(0,x.jsxs)(h.T6,{className:"text-center ",children:[(0,x.jsx)(h.NN,{children:t+1}),(0,x.jsx)(h.NN,{children:n.outlet_id}),(0,x.jsx)(h.NN,{children:n.banner.banner_title}),(0,x.jsx)(h.NN,{children:(0,x.jsx)("img",{src:"http://localhost:7777/"+n.banner.image_path,className:"rounded",height:"40px",width:"50px","border-radius":"5px"})}),(0,x.jsx)(h.NN,{children:n.banner.is_active}),(0,x.jsx)(h.NN,{children:n.banner.is_fix}),(0,x.jsx)(h.NN,{children:0==n.banner.is_fix?p(n.banner.duration.todate):"-"}),(0,x.jsx)(h.NN,{children:0==n.banner.is_fix?p(n.banner.duration.fromdate):"-"}),(0,x.jsx)(h.NN,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{className:"btn btn-info",type:"button",onClick:function(){return t=n.banner._id,console.log(t),void e("/pages/banner/Editbanner/".concat(t));var t},children:"Edit"})," ",(0,x.jsx)("button",{className:"btn btn-danger",onClick:function(){return e=n.banner._id,t=n._id,void l.Z.delete("http://localhost:7777/delete/".concat(e,"/").concat(t)).then((function(){b(u.filter((function(n){return n._id!==e}))),alert("Successfully banner data deleted"),window.location.reload()})).catch((function(e){console.log(e.message)}));var e,t},children:"Delete"})]})})]},t)})):null})]})})})})})]})}}}]);
//# sourceMappingURL=1215.eb75682b.chunk.js.map