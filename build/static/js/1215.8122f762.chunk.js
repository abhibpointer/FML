"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1215],{41215:function(e,n,r){r.r(n);var t=r(74165),i=r(15861),s=r(70885),a=r(72791),c=r(11087),l=r(82388),d=r(57689),o=r(91951),u=r(78983),x=r(80184),h={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_LOCAL_HOST;n.default=function(){var e=(0,d.s0)(),n=(0,a.useState)([]),r=(0,s.Z)(n,2),b=r[0],_=r[1],j=(0,a.useState)(""),m=(0,s.Z)(j,2),N=m[0],f=m[1];(0,a.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n,r,i,s,a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("".concat(h,"getBannerList"));case 3:for(n=e.sent,r=n.data.data,i=[],s=0;s<r.length;s++)for(a=0;a<r[s].banner.length;a++)c={_id:r[s]._id,outlet_id:r[s].outlet_id,banner:r[s].banner[a]},i.push(c);_(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),f(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p=function(e){return(0,o.default)(new Date(e),"yyyy/MM/dd").toLocaleString()};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)("div",{className:"flex-right",children:(0,x.jsx)(c.rU,{to:"/pages/banner/Addbanner",children:(0,x.jsxs)("button",{className:"btn btn-primary btn-lg",children:[" ","Create"]})})}),(0,x.jsx)("div",{}),(0,x.jsx)("p",{className:"text-medium-emphasis text-center",children:N}),(0,x.jsx)(u.rb,{children:(0,x.jsx)(u.b7,{xs:!0,children:(0,x.jsx)(u.xH,{className:"mb-4",children:(0,x.jsx)(u.sl,{children:(0,x.jsxs)(u.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,x.jsx)(u.V,{color:"light",children:(0,x.jsxs)(u.T6,{className:"text-center",children:[(0,x.jsx)(u.is,{children:"Sr. No."}),(0,x.jsx)(u.is,{children:"Outlet Id"}),(0,x.jsx)(u.is,{className:"text-center",children:"Banner Title"}),(0,x.jsx)(u.is,{className:"image",children:"Image"}),(0,x.jsx)(u.is,{children:"Active"}),(0,x.jsx)(u.is,{children:" Fix"}),(0,x.jsx)(u.is,{children:"From Date"}),(0,x.jsx)(u.is,{children:"To Date"}),(0,x.jsx)(u.is,{children:"Action"})]})}),(0,x.jsx)(u.NR,{children:b?b.map((function(n,r){return(0,x.jsxs)(u.T6,{className:"text-center ",children:[(0,x.jsx)(u.NN,{children:r+1}),(0,x.jsx)(u.NN,{children:n.outlet_id}),(0,x.jsx)(u.NN,{children:n.banner.banner_title}),(0,x.jsx)(u.NN,{children:(0,x.jsx)("img",{src:"".concat(h)+n.banner.image_path,className:"rounded",height:"40px",width:"50px","border-radius":"5px"})}),(0,x.jsx)(u.NN,{children:n.banner.is_active}),(0,x.jsx)(u.NN,{children:n.banner.is_fix}),(0,x.jsx)(u.NN,{children:0==n.banner.is_fix?p(n.banner.duration.todate):"-"}),(0,x.jsx)(u.NN,{children:0==n.banner.is_fix?p(n.banner.duration.fromdate):"-"}),(0,x.jsx)(u.NN,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{className:"btn btn-info",type:"button",onClick:function(){return r=n.banner._id,console.log(r),void e("/pages/banner/Editbanner/".concat(r));var r},children:"Edit"})," ",(0,x.jsx)("button",{className:"btn btn-danger",onClick:function(){return e=n.banner._id,r=n._id,void l.Z.delete("".concat(h,"deleteBanner/").concat(e,"/").concat(r)).then((function(){_(b.filter((function(n){return n._id!==e}))),alert("Successfully banner data deleted"),window.location.reload()})).catch((function(e){console.log(e.message)}));var e,r},children:"Delete"})]})})]},r)})):null})]})})})})})]})}}}]);
//# sourceMappingURL=1215.8122f762.chunk.js.map