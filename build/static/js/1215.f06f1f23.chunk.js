"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1215],{41215:function(e,n,t){t.r(n);var r=t(74165),i=t(15861),s=t(70885),a=t(72791),c=t(11087),l=t(82388),d=t(57689),o=t(91951),x=t(78983),u=t(80184),h="http://35.154.86.71:7777/";n.default=function(){var e=(0,d.s0)(),n=(0,a.useState)([]),t=(0,s.Z)(n,2),b=t[0],j=t[1],m=(0,a.useState)(""),f=(0,s.Z)(m,2),N=f[0],_=f[1];(0,a.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,t,i,s,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("".concat(h,"getBannerList"));case 3:for(n=e.sent,t=n.data.data,i=[],s=0;s<t.length;s++)for(a=0;a<t[s].banner.length;a++)c={_id:t[s]._id,outlet_id:t[s].outlet_id,banner:t[s].banner[a]},i.push(c);j(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),_(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p=function(e){return(0,o.default)(new Date(e),"yyyy/MM/dd").toLocaleString()};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"flex-right",children:(0,u.jsx)(c.rU,{to:"/pages/banner/Addbanner",children:(0,u.jsxs)("button",{className:"btn btn-primary btn-lg",children:[" ","Create"]})})}),(0,u.jsx)("div",{}),(0,u.jsx)("p",{className:"text-medium-emphasis text-center",children:N}),(0,u.jsx)(x.rb,{children:(0,u.jsx)(x.b7,{xs:!0,children:(0,u.jsx)(x.xH,{className:"mb-4",children:(0,u.jsx)(x.sl,{children:(0,u.jsxs)(x.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,u.jsx)(x.V,{color:"light",children:(0,u.jsxs)(x.T6,{className:"text-center",children:[(0,u.jsx)(x.is,{children:"Sr. No."}),(0,u.jsx)(x.is,{children:"Outlet Id"}),(0,u.jsx)(x.is,{className:"text-center",children:"Banner Title"}),(0,u.jsx)(x.is,{className:"image",children:"Image"}),(0,u.jsx)(x.is,{children:"Active"}),(0,u.jsx)(x.is,{children:" Fix"}),(0,u.jsx)(x.is,{children:"From Date"}),(0,u.jsx)(x.is,{children:"To Date"}),(0,u.jsx)(x.is,{children:"Action"})]})}),(0,u.jsx)(x.NR,{children:b?b.map((function(n,t){return(0,u.jsxs)(x.T6,{className:"text-center ",children:[(0,u.jsx)(x.NN,{children:t+1}),(0,u.jsx)(x.NN,{children:n.outlet_id}),(0,u.jsx)(x.NN,{children:n.banner.banner_title}),(0,u.jsx)(x.NN,{children:(0,u.jsx)("img",{src:"".concat(h)+n.banner.image_path,className:"rounded",height:"40px",width:"50px","border-radius":"5px"})}),(0,u.jsx)(x.NN,{children:n.banner.is_active}),(0,u.jsx)(x.NN,{children:n.banner.is_fix}),(0,u.jsx)(x.NN,{children:0==n.banner.is_fix?p(n.banner.duration.todate):"-"}),(0,u.jsx)(x.NN,{children:0==n.banner.is_fix?p(n.banner.duration.fromdate):"-"}),(0,u.jsx)(x.NN,{children:(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{className:"btn btn-info",type:"button",onClick:function(){return t=n.banner._id,console.log(t),void e("/pages/banner/Editbanner/".concat(t));var t},children:"Edit"})," ",(0,u.jsx)("button",{className:"btn btn-danger",onClick:function(){return e=n.banner._id,t=n._id,void l.Z.delete("".concat(h,"deleteBanner/").concat(e,"/").concat(t)).then((function(){j(b.filter((function(n){return n._id!==e}))),alert("Successfully banner data deleted"),window.location.reload()})).catch((function(e){console.log(e.message)}));var e,t},children:"Delete"})]})})]},t)})):null})]})})})})})]})}}}]);
//# sourceMappingURL=1215.f06f1f23.chunk.js.map